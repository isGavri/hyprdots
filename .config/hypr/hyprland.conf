exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once=/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1



################
### MONITORS ###
################

## External right
monitor = eDP-1, 1920x1080@60, 0x0, 1, bitdepth, 10, cm, auto
# monitor = eDP-1,disable
# monitor = HDMI-A-1, 1920x1080@60, 0x0, 1, bitdepth, 10, cm, auto
monitor = , preferred, auto, 1
## External mimrror
# monitor = , preferred, auto, 1, mirror, eDP-1


###################
### MY PROGRAMS ###
###################
$terminal = kitty
$fileManager = nautilus
$menu = zsh ~/.config/rofi/launcher.sh
$powermenu = zsh ~/.config/rofi/powermenu/type-2/powermenu.sh
$screenshot = zsh ~/.config/hypr/scripts/screenshot.sh
$hyprlock = hyprlock
$killpanel = killall waybar
$startpanel = waybar


###################
### KEYBINDINGS ###
###################
binds {
  scroll_event_delay = 10
}
$mainMod = SUPER 

# Exec terminal

# bind = alt shift, return, exec, [float; move 1450 830; size 60% 60%] $terminal
bind = alt shift, return, exec, [float;size 1450 830;center] $terminal
bind = alt, return, exec, $terminal
# Kill active window
bind = alt, Q, killactive,
# Application launcher
bind = alt, a, exec, $menu
# Exit hyprland
# bind = $mainMod, M, exec, uwsm stop
bind = $mainMod, F, fullscreen
bind = $mainMod, E, exec, $fileManager
bind = alt, F, togglefloating,
bind = alt+ctrl, F, centerwindow,
bind = alt, Z, exec, $powermenu
bind = alt, S, togglesplit, 
bind = alt, h, movefocus, l
bind = alt, l, movefocus, r
bind = alt, k, movefocus, u
bind = alt, j, movefocus, d
# bind = alt, tab, exec, $(hyprctl activewindow -j | jq '.floating') && hyprctl dispatch cyclenext tiled || hyprctl dispatch cyclenext floating
bind = alt+shift, h, movewindow, l
bind = alt+shift, j, movewindow, d
bind = alt+shift, k, movewindow, u
bind = alt+shift, l, movewindow, r
bind = alt+ctrl, j, resizeactive, -10 -10
bind = alt+ctrl, k, resizeactive, 10 10
bind = $mainMod, L, exec, $hyprlock
bind = $mainMod, K, exec, $killpanel
bind = $mainMod, J, exec, $startpanel
bind = alt, 1, workspace, 1
bind = alt, 2, workspace, 2
bind = alt, 3, workspace, 3
bind = alt, 4, workspace, 4
bind = alt, 5, workspace, 5
bind = $mainMod, 1, movetoworkspace, 1
bind = $mainMod, 2, movetoworkspace, 2
bind = $mainMod, 3, movetoworkspace, 3
bind = $mainMod, 4, movetoworkspace, 4
bind = $mainMod, 5, movetoworkspace, 5
bind = ctrl+alt, l, workspace, +1
bind = ctrl+alt, h, workspace, -1
bind = $mainMod+shift, l, movetoworkspace, +1
bind = $mainMod+shift, h, movetoworkspace, -1
bind = ctrl+shift,l, movetoworkspacesilent, +1
bind = ctrl+shift, h, movetoworkspacesilent, -1
# bind = $mainMod, mouse_down, workspace, e+1
# bind = $mainMod, mouse_up, workspace, e-1
bind = ALT, mouse_down, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 1.1')
bind = ALT, mouse_up, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float * 0.9) | if . < 1 then 1 else . end')
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
# Sink volume raise optionally with --device
bind = ,XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise
# Sink volume lower optionally with --device
bind = ,XF86AudioLowerVolume, exec,  swayosd-client --output-volume lower
# Sink volume toggle mute
bind = ,XF86AudioMute ,exec ,swayosd-client --output-volume mute-toggle
# bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
# bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
# bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
# bindel = ,XF86MonBrightnessUp, exec, brightnessctl s 10%+
# bindel = ,XF86MonBrightnessDown, exec, brightnessctl s 10%-
# Brightness raise
bind = ,XF86MonBrightnessUp, exec, swayosd-client --brightness raise
# Brightness lower
bind = ,XF86MonBrightnessDown, exec, swayosd-client --brightness lower
# bindel = ALT,XF86AudioRaiseVolume, exec, brightnessctl s 10%+
# bindel = ALT,XF86AudioLowerVolume, exec, brightnessctl s 10%-
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous
## Hyprpicker and hyprshot
bind = alt shift, p, exec, hyprpicker -a
bind = alt shift, s, exec, $screenshot
bind = alt shift, o, exec, $screenshot
# Notification
bind = $mainMod, TAB, exec, swaync-client -t
# Minimize
bind = alt, m, exec, scratchpad
bind = alt shift, m, exec, scratchpad -g

#################
### AUTOSTART ###
#################



exec-once=waybar
exec-once=hyprpaper
exec-once=swayosd-server
exec-once=nm-applet --indicator
# exec-once=hyprpm reload
#############################
### ENVIRONMENT VARIABLES ###
#############################


env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24
env = QT_QPA_PLATFORMTHEME,gtk3
exec-once=hyprctl setcursor rose-pine-hyprcursor 24
exec-once=gsettings set org.gnome.desktop.interface cursor-theme 'rose-pine-hyprcursor' &> /dev/null

#####################
### LOOK AND FEEL ###
#####################

general {
    gaps_in = 5
    gaps_out = 10, 5, 0, 5
    float_gaps = 10
    border_size = 1
    col.active_border = rgba(bbb2a955)
    col.inactive_border = rgba(00000000)
    resize_on_border = true
    allow_tearing = false
    layout = dwindle
}

decoration {
    rounding = 10
    active_opacity = 1
    inactive_opacity = 1
    fullscreen_opacity = 1
    dim_inactive = true
    dim_strength = 0.1
    shadow {
        enabled = false
        range = 4
        render_power = 15
        color = rgba(ffffffff)
        color_inactive = rgba(00000000)
    }
    blur {
        enabled = true, blur
        size = 6
        passes = 3
        blurls = swaync-control-center
        blurls = swaync-notification-window

        vibrancy = 0.1696
    }
}
animations {
    enabled = true, animations
        bezier = winIn, 0.1, 1.0, 0.1, 1.0
        bezier = winOut, 0.1, 1.0, 0.1, 1.0
        bezier = smoothOut, 0.5, 0, 0.99, 0.99
        bezier = layerOut,0.23,1,0.32,1
        animation = windowsIn, 1, 7, winIn, slide
        animation = windowsOut, 1, 3, smoothOut, slide
        animation = windowsMove, 1, 7, winIn, slide
        animation = workspacesIn, 1, 8, winIn, slide
        animation = workspacesOut, 1, 8, winOut, slide
        animation = layersIn, 1, 10, winIn, slide
        animation = layersOut, 1, 3, layerOut, popin 50%
}

dwindle {
    pseudotile = true 
    preserve_split = true 
}

master {
    new_status = slave
}

misc {
    disable_hyprland_logo = true
  disable_splash_rendering = false
}


#############
### INPUT ###
#############

input {
    kb_layout = us, latam
    kb_options = grp:alt_space_toggle
    accel_profile = none
    follow_mouse = 2
    sensitivity = 0
    repeat_rate = 50
    repeat_delay = 200
    touchpad {
        natural_scroll = false
    }
    tablet {
    output = current

    }
}

###############
### PLUINGS ###
###############
plugin { 
    hyprexpo {
        columns = 3
        gap_size = 5
        bg_col = rgb(111111)
        workspace_method = center first # [center/first] [workspace] e.g. first 1 or center m+1

        gesture_distance = 300 # how far is the "max" for the gesture
    }
  hyprbars {
    hyprbars-button = rgb(ff4040), 12, 󰖭, hyprctl dispatch killactive
    hyprbars-button = rgb(eeee11), 12, , hyprctl dispatch fullscreen 1

    bar_blur = true
    bar_color = rgba(0A0E08DB)

    bar_title_enabled = false
    bar_buttons_alignment = right
    bar_precedence_over_border = true 

    on_double_click = hyprctl dispatch fullscreen 1
  }
}

##############################
### WINDOWS AND WORKSPACES ###
##############################

windowrulev2 = suppressevent maximize, class:.*
windowrulev2 = nofocus,class:^$,title:^$,xwayland:1,fullscreen:0,pinned:0
# windowrulev2 = float, class:.*
windowrulev2 = tile, class:kitty
windowrulev2 = opacity 0.8, class:kitty
windowrulev2 = opacity 0.8, class:org.pwmt.zathura
windowrulev2 = opacity 0.8, class:Spotify
windowrulev2 = opacity 0.8, class:zen
windowrulev2 = float, class:xdg-desktop-portal-gtk
windowrulev2 = float, class:python
windowrulev2 = float, class:Spotify
windowrulev2 = float, class:org.gnome.Nautilus
windowrulev2 = float, class:waypaper
windowrulev2 = float, class:nm-connection-editor
windowrulev2 = float, class:blueman-manager
windowrulev2 = float, class:Thunar
windowrulev2 = float, class:org.pulseaudio.pavucontrol
windowrulev2 = size 1280 820, class:Spotify
windowrulev2 = size 840 660, class:.*
windowrulev2 = center, class:.*
windowrulev2 = dimaround, class:kitty, floating:1,
windowrulev2 = noborder, class:kitty, floating:1,
windowrulev2 = noanim, class:kitty, floating:1,

layerrule = noanim, selection
# layerrule = noanim, overlay
